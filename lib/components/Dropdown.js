"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(require("react")),_styled=_interopRequireDefault(require("@emotion/styled")),_constants=require("../constants"),_NoData=_interopRequireDefault(require("../components/NoData")),_Item=_interopRequireDefault(require("../components/Item")),_util=require("../util");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _templateObject2(){var e=_taggedTemplateLiteral(["\n  color: ",";\n  padding: 5px 10px;\n  :hover {\n    background: ",";\n    outline: none;\n    cursor: pointer;\n  }\n"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral(["\n  position: absolute;\n  ",";\n  \n  ",";\n  border: 1px solid #ccc;\n  width: ","px;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  border-radius: 2px;\n  box-shadow: 0 0 10px 0 ",";\n  max-height: ",";\n  overflow: auto;\n  z-index: 9;\n  \n  :focus {\n    outline: none;\n  }\n}\n"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dropdownPosition=function(e,t){var n=t.getSelectRef().getBoundingClientRect(),o=n.bottom+parseInt(e.dropdownHeight,10)+parseInt(e.dropdownGap,10);return"auto"!==e.dropdownPosition?e.dropdownPosition:o>window.innerHeight&&o>n.top?"top":"bottom"},Dropdown=function(e){var t=e.props,n=e.state,o=e.methods;return _react.default.createElement(DropDown,{tabIndex:"-1","aria-expanded":"true",role:"list",dropdownPosition:dropdownPosition(t,o),selectBounds:n.selectBounds,portal:t.portal,dropdownGap:t.dropdownGap,dropdownHeight:t.dropdownHeight,className:"".concat(_constants.LIB_NAME,"-dropdown ").concat(_constants.LIB_NAME,"-dropdown-position-").concat(dropdownPosition(t,o))},t.dropdownRenderer?t.dropdownRenderer({props:t,state:n,methods:o}):_react.default.createElement("div",{className:"dropDownWrapper"},t.create&&n.search&&!(0,_util.valueExistInSelected)(n.search,n.values,t)&&_react.default.createElement(AddNew,{className:"".concat(_constants.LIB_NAME,"-dropdown-add-new"),color:t.color,onClick:function(){return o.createNew(n.search)}},t.createNewLabel.replace("{search}",'"'.concat(n.search,'"'))),0===o.searchResults().length?_react.default.createElement(_NoData.default,{className:"".concat(_constants.LIB_NAME,"-no-data"),state:n,props:t,methods:o}):o.searchResults().map(function(e,r){return _react.default.createElement(_Item.default,{key:e[t.valueField],item:e,itemIndex:r,state:n,props:t,methods:o})})))},DropDown=_styled.default.div(_templateObject(),function(e){var t=e.selectBounds,n=e.dropdownGap;return"top"===e.dropdownPosition?"bottom: ".concat(t.height+2+n,"px"):"top: ".concat(t.height+2+n,"px")},function(e){var t=e.selectBounds,n=e.dropdownGap;return e.portal?"\n      position: fixed;\n      top: ".concat(t.bottom+n,"px;\n      left: ").concat(t.left-1,"px;"):"left: -1px;"},function(e){return e.selectBounds.width},function(){return(0,_util.hexToRGBA)("#000000",.2)},function(e){return e.dropdownHeight}),AddNew=_styled.default.div(_templateObject2(),function(e){return e.color},function(e){var t=e.color;return t&&(0,_util.hexToRGBA)(t,.1)}),_default=Dropdown;exports.default=_default;
